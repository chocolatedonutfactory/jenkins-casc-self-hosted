jenkins:
  systemMessage: "Jenkins configured via JCasC with Keycloak Authentication"
  numExecutors: 2
  scmCheckoutRetryCount: 2
  mode: NORMAL

  # Security Realm Configuration
  securityRealm:
    oic:
      clientId: "${OIC_CLIENT_ID}"
      clientSecret: "${OIC_CLIENT_SECRET}"
      serverConfiguration:
        wellKnown:
          wellKnownOpenIDConfigurationUrl: "${OIC_WELL_KNOWN_URL}"
          scopesOverride: "openid profile email"
      userNameField: "preferred_username"
      fullNameFieldName: "name"
      emailFieldName: "email"
      groupsFieldName: "groups"
      disableSslVerification: true
      logoutFromOpenidProvider: true

  # Authorization Strategy (Group-based)
  authorizationStrategy:
    projectMatrix:
      entries:
        # Administrator Group: Full control
        - group:
            name: "jenkins-admins"
            permissions:
              - "Overall/Administer"
        
        # Developer Group: Can view and build jobs, but not manage Jenkins
        - group:
            name: "jenkins-developers"
            permissions:
              - "Overall/Read"
              - "Job/Read"
              - "Job/Build"
              - "Job/Cancel"
              - "Job/Workspace"
              - "View/Read"

        # User Group: Read-only access to everything
        - group:
            name: "jenkins-users"
            permissions:
              - "Overall/Read"
              - "Job/Read"
              - "View/Read"

        # Anonymous: No access (Requires login)
        - group:
            name: "anonymous"
            permissions: []

unclassified:
  location:
    url: "https://${LAB_DOMAIN}:${NGINX_JENKINS_PORT}/"
    adminAddress: "admin@example.com"

appearance:
  themeManager:
    theme: "dark"
